# ğŸ—ï¸ Arquitetura Docker - SISALMOX

## ğŸ“Š Diagrama Visual da Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DOCKER DESKTOP                          â”‚
â”‚                      (Windows/Mac/Linux)                        â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  Docker Network Bridge                   â”‚  â”‚
â”‚  â”‚            (sisalmox_network)                            â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  sisalmox_  â”‚  â”‚ sisalmox_   â”‚  â”‚sisalmox_    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚    app       â”‚  â”‚   mysql      â”‚  â”‚ phpmyadmin  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ PHP 8.3 +    â”‚  â”‚ MySQL 8.0    â”‚  â”‚ UI Banco    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Apache       â”‚  â”‚              â”‚  â”‚ Dados       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚ Port: 3306   â”‚  â”‚              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Port: 80     â”‚  â”‚              â”‚  â”‚ Port: 8080  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚         â”‚                 â”‚                              â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                  â”‚                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚              â”‚        â”‚              â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ sisalmox_   â”‚        â”‚sisalmox_    â”‚              â”‚  â”‚
â”‚  â”‚  â”‚   redis      â”‚        â”‚  mailhog     â”‚              â”‚  â”‚
â”‚  â”‚  â”‚              â”‚        â”‚              â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ Redis 7      â”‚        â”‚ Mailhog      â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ Cache        â”‚        â”‚ SMTP/Web     â”‚              â”‚  â”‚
â”‚  â”‚  â”‚              â”‚        â”‚              â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ Port: 6379   â”‚        â”‚ Port: 1025   â”‚              â”‚  â”‚
â”‚  â”‚  â”‚              â”‚        â”‚ 8025         â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚                         Volumes Persistentes                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  mysql_data  â”‚ (Banco)       â”‚ redis_data   â”‚ (Cache)      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                            â”‚
         â”‚ Mount:                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                    â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ C:\    â”‚                          â”‚ Docker â”‚
    â”‚  Users â”‚                          â”‚ Desktopâ”‚
    â”‚  [...]â”‚                          â”‚Drivers â”‚
    â”‚ Dados â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo de RequisiÃ§Ã£o HTTP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. UsuÃ¡rio digita: http://localhost                        â”‚
â”‚                                                             â”‚
â”‚ 2. Navegador resolve para: 127.0.0.1:80                   â”‚
â”‚                                                             â”‚
â”‚ 3. Docker mapeia porta 80 â†’ sisalmox_app:80               â”‚
â”‚                                                             â”‚
â”‚ 4. Apache recebe requisiÃ§Ã£o                                â”‚
â”‚    â””â”€> Document Root: /app/public/index.php               â”‚
â”‚    â””â”€> Carrega Laravel                                     â”‚
â”‚                                                             â”‚
â”‚ 5. Laravel processa requisiÃ§Ã£o                             â”‚
â”‚    â”œâ”€> Carrega .env (configuraÃ§Ã£o)                         â”‚
â”‚    â”œâ”€> Conecta ao MySQL via sisalmox_mysql:3306           â”‚
â”‚    â”œâ”€> Busca cache em sisalmox_redis:6379                 â”‚
â”‚    â””â”€> Carrega views e retorna HTML                        â”‚
â”‚                                                             â”‚
â”‚ 6. Apache retorna resposta ao navegador                    â”‚
â”‚                                                             â”‚
â”‚ 7. Navegador exibe pÃ¡gina                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Estrutura de Volumes

```
Host (C:\laragon\www\sisalmox\)
â”‚
â”œâ”€â”€ [Tudo] â†” sisalmox_app:/app
â”‚   â”‚
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ storage/ â†” Docker /app/storage
â”‚   â””â”€â”€ bootstrap/cache/ â†” Docker /app/bootstrap/cache
â”‚
â”œâ”€â”€ docker/mysql/
â”‚   â””â”€â”€ my.cnf â†” sisalmox_mysql:/etc/mysql/conf.d/my.cnf
â”‚
â””â”€â”€ [Docker Volumes - Gerenciado Automaticamente]
    â”œâ”€â”€ mysql_data/ (armazena tabelas, Ã­ndices)
    â”‚   â””â”€â”€ sisalmox_db_local/
    â”‚       â”œâ”€â”€ users.ibd
    â”‚       â”œâ”€â”€ produtos.ibd
    â”‚       â””â”€â”€ [outras tabelas]
    â”‚
    â””â”€â”€ redis_data/ (armazena cache)
        â””â”€â”€ dump.rdb (arquivo RDB do Redis)
```

---

## ğŸ”Œ ComunicaÃ§Ã£o Entre Containers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ sisalmox_app â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚                  â”‚              â”‚
       â–¼                 â–¼                  â–¼              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ MySQL   â”‚    â”‚ Redis   â”‚      â”‚ PhpMyAdmin  â”‚  â”‚ Mailhog  â”‚
   â”‚ :3306   â”‚    â”‚ :6379   â”‚      â”‚ :8080       â”‚  â”‚ :1025    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   Nome DNS (interno ao Docker):
   - mysql (resolvi para IP interno)
   - redis (resolvido para IP interno)
   - phpmyadmin (resolvido para IP interno)
   - mailhog (resolvido para IP interno)
```

---

## ğŸŒ Portas Mapeadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 LOCAL (Host)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 80         â”‚ â†’ sisalmox_app:80 (Apache HTTP)            â”‚
â”‚ 3306       â”‚ â†’ sisalmox_mysql:3306 (MySQL)             â”‚
â”‚ 6379       â”‚ â†’ sisalmox_redis:6379 (Redis)             â”‚
â”‚ 8080       â”‚ â†’ sisalmox_phpmyadmin:80 (PhpMyAdmin)     â”‚
â”‚ 1025       â”‚ â†’ sisalmox_mailhog:1025 (Mailhog SMTP)    â”‚
â”‚ 8025       â”‚ â†’ sisalmox_mailhog:8025 (Mailhog Web)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Fluxo de Dados - MigraÃ§Ã£o de Banco

```
Comando: docker-compose exec app php artisan migrate

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Terminal (Host) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Docker Container (sisalmox_app)         â”‚
â”‚                                          â”‚
â”‚ $ php artisan migrate                   â”‚
â”‚                                          â”‚
â”‚ â”œâ”€> LÃª migrations em database/          â”‚
â”‚ â”œâ”€> Conecta ao MySQL                    â”‚
â”‚ â””â”€> Executa CREATE TABLE's              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Docker Container (sisalmox_mysql)       â”‚
â”‚                                          â”‚
â”‚ â”œâ”€> Recebe CREATE TABLE                 â”‚
â”‚ â”œâ”€> Persiste em volume mysql_data       â”‚
â”‚ â””â”€> Responde OK                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Volume (mysql_data)                      â”‚
â”‚                                          â”‚
â”‚ Arquivos persistem em disco:            â”‚
â”‚ - sisalmox_db_local/                    â”‚
â”‚ - users.ibd                             â”‚
â”‚ - produtos.ibd                          â”‚
â”‚ - [outras tabelas]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Ciclo de Vida do Container

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   docker    â”‚
â”‚  -compose   â”‚
â”‚     up      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. BUILD (primeira vez)              â”‚
â”‚  â”œâ”€> LÃª Dockerfile                  â”‚
â”‚  â”œâ”€> Baixa imagem base (php:8.3)    â”‚
â”‚  â”œâ”€> Instala dependÃªncias           â”‚
â”‚  â”œâ”€> Executa composer install       â”‚
â”‚  â””â”€> Gera imagem sisalmox_app       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. CREATE (primeira vez)             â”‚
â”‚  â”œâ”€> Cria container sisalmox_app    â”‚
â”‚  â”œâ”€> Mount volumes                  â”‚
â”‚  â”œâ”€> Configura redes                â”‚
â”‚  â””â”€> Pronto para rodar              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. START                             â”‚
â”‚  â”œâ”€> Inicia Apache                  â”‚
â”‚  â”œâ”€> Carrega PHP-FPM                â”‚
â”‚  â”œâ”€> Escuta porta 80                â”‚
â”‚  â””â”€> Status: Up                     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â†’ docker-compose logs -f
       â”‚   (Monitora logs em tempo real)
       â”‚
       â”œâ”€â†’ docker-compose stop
       â”‚   (Pausa, dados persistem)
       â”‚
       â”œâ”€â†’ docker-compose restart
       â”‚   (Reinicia rÃ¡pido)
       â”‚
       â””â”€â†’ docker-compose down
           (Para e remove containers)
```

---

## ğŸ¯ ComparaÃ§Ã£o: Laragon vs Docker

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Aspecto          â”‚ Laragon             â”‚ Docker              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ambiente         â”‚ Local no SO         â”‚ Isolado em containerâ”‚
â”‚ InstalaÃ§Ã£o       â”‚ Tudo instalado      â”‚ Tudo em containers  â”‚
â”‚ Setup            â”‚ Manual (passo a     â”‚ AutomÃ¡tico (scripts)â”‚
â”‚                  â”‚ passo)              â”‚                     â”‚
â”‚ ProduÃ§Ã£o         â”‚ Diferente           â”‚ IdÃªntico             â”‚
â”‚ Performance      â”‚ Nativa + WSL        â”‚ Docker overhead    â”‚
â”‚ Compartilhar     â”‚ DifÃ­cil             â”‚ FÃ¡cil (mesmo env)  â”‚
â”‚ VersÃµes PHP      â”‚ Uma por vez         â”‚ MÃºltiplas           â”‚
â”‚ Banco Dados      â”‚ Instalado local     â”‚ Container isolado   â”‚
â”‚ Limpeza          â”‚ Complexa            â”‚ docker-compose down â”‚
â”‚ Deploy           â”‚ Manual              â”‚ Mesma imagem        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Fluxo de Deploy

```
Desenvolvimento Local (Docker)
        â”‚
        â”‚ Testar alteraÃ§Ãµes
        â”‚ docker-compose up -d
        â”‚
        â–¼
Staging Server (Docker)
        â”‚
        â”‚ Mais testes em ambiente similar
        â”‚ docker-compose -f docker-compose.prod.yml up -d
        â”‚
        â–¼
Production Server (Docker)
        â”‚
        â”‚ Deploy final
        â”‚ docker pull seu-registry/sisalmox:latest
        â”‚ docker-compose up -d
        â”‚
        â–¼
Monitoramento
        â””â”€â†’ docker ps
        â””â”€â†’ docker logs -f
        â””â”€â†’ docker stats
```

---

## ğŸ“ˆ Stack de Tecnologia

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AplicaÃ§Ã£o (Laravel 11)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”              â”‚
â”‚  â”‚Authâ”‚  â”‚Authâ”‚  â”‚Routâ”‚  â”‚Ctrlâ”‚  â”‚Modeâ”‚              â”‚
â”‚  â”‚nt  â”‚  â”‚API â”‚  â”‚  esâ”‚  â”‚  l  â”‚  â”‚  lsâ”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚               â”‚
        â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MySQL â”‚      â”‚ Redis  â”‚     â”‚ Filesystemâ”‚
    â”‚ 8.0   â”‚      â”‚ 7      â”‚     â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   Docker Network       â”‚
                        â”‚   (sisalmox_network)   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” SeguranÃ§a - Isolamento de Containers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Desktop                     â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Container 1 â”‚  â”‚  Container 2 â”‚  â”‚Container 3â”‚  â”‚
â”‚  â”‚ (sisalmox_   â”‚  â”‚  (MySQL)     â”‚  â”‚(Redis)   â”‚  â”‚
â”‚  â”‚  app)        â”‚  â”‚              â”‚  â”‚           â”‚  â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚           â”‚  â”‚
â”‚  â”‚ Isolado do   â”‚  â”‚ Isolado do   â”‚  â”‚Isolado doâ”‚  â”‚
â”‚  â”‚ SO Host      â”‚  â”‚ SO Host      â”‚  â”‚SO Host  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â”‚ - Filesystem isolado                                 â”‚
â”‚ - Processos isolados (PID)                          â”‚
â”‚ - Networking isolado                                â”‚
â”‚ - Resource limits (CPU, RAM)                        â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… Checklist de Componentes

```
â”Œâ”€ Docker Compose (OrquestraÃ§Ã£o)
â”‚  â””â”€ Gerencia mÃºltiplos containers
â”‚  â””â”€ Define relacionamentos
â”‚  â””â”€ Mapeia volumes e portas
â”‚
â”œâ”€ Dockerfile (Build)
â”‚  â””â”€ ConstrÃ³i imagem sisalmox_app
â”‚  â””â”€ Instala PHP 8.3 + Apache
â”‚  â””â”€ Prepara aplicaÃ§Ã£o
â”‚
â”œâ”€ MySQL (Database)
â”‚  â””â”€ Armazena dados
â”‚  â””â”€ Persiste em mysql_data
â”‚  â””â”€ AcessÃ­vel em :3306
â”‚
â”œâ”€ Redis (Cache)
â”‚  â””â”€ SessÃµes Laravel
â”‚  â””â”€ Cache de dados
â”‚  â””â”€ AcessÃ­vel em :6379
â”‚
â”œâ”€ PhpMyAdmin (UI)
â”‚  â””â”€ Gerencia banco
â”‚  â””â”€ AcessÃ­vel em :8080
â”‚
â”œâ”€ Mailhog (Email Testing)
â”‚  â””â”€ SMTP server em :1025
â”‚  â””â”€ Web UI em :8025
â”‚
â””â”€ Volumes (PersistÃªncia)
   â”œâ”€ mysql_data (banco)
   â”œâ”€ redis_data (cache)
   â””â”€ ./app (cÃ³digo-fonte)
```

---

## ğŸ“ Conceitos Docker Simplificados

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Imagem Docker                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "Blueprint" - como um ISO ou template      â”‚
â”‚ - Leitura-apenas (immutable)               â”‚
â”‚ - ReutilizÃ¡vel                             â”‚
â”‚ - Tamanho: MB atÃ© GB                       â”‚
â”‚ Ex: php:8.3-apache                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”‚
        â”‚ docker run
        â”‚
        â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Container Docker                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "InstÃ¢ncia" - como uma mÃ¡quina virtual     â”‚
â”‚ - LÃª/escreve (writeable layer)            â”‚
â”‚ - Isolado e portÃ¡vel                       â”‚
â”‚ - Executa aplicaÃ§Ã£o                        â”‚
â”‚ - Tempo de boot: <1s                      â”‚
â”‚ Ex: sisalmox_app (container em execuÃ§Ã£o)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Diagrama criado em**: 2026
**Status**: âœ… Completo e Ilustrativo
